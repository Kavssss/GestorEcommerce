package frontend.controllers;

import backend.entities.ItemEntity;
import backend.entities.shopeeEntity.VendaShopeeFormatadaEntity;
import frontend.utils.Constants;
import frontend.utils.LoadScene;
import frontend.views.utils.Constraints;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.TextField;
import javafx.scene.input.MouseEvent;
import javafx.stage.Stage;

public class ViewProdutosController {

    @FXML
    private Button btnBuscar;

    @FXML
    private Button btnExportar;

    @FXML
    private Button btnInserir;

    @FXML
    private Button btnLimpar;

    @FXML
    private Button btnProdutos;

    @FXML
    private Button btnRelatorios;

    @FXML
    private Button btnVendas;

    @FXML
    private TableColumn<ItemEntity, String> columnCodItem;

    @FXML
    private TableColumn<ItemEntity, String> columnDescricao;

    @FXML
    private TableColumn<ItemEntity, String> columnModelo;

    @FXML
    private TableColumn<ItemEntity, String> columnVariacao;

    @FXML
    private TableView<ItemEntity> tbProduto;

    @FXML
    private TextField txtCodItem;

    @FXML
    private TextField txtDescricao;

    @FXML
    private TextField txtModelo;

    @FXML
    private TextField txtVariacao;
    
    @FXML
    void onVendasAction(ActionEvent event) {
    	LoadScene.changeScene(Constants.VIEWS.VENDAS);
    }

    @FXML
    void onBuscarAction(ActionEvent event) {

    }

    @FXML
    void onInserirAction(ActionEvent event) {

    }

    @FXML
    void onLimparAction(ActionEvent event) {

    }

    @FXML
    void onTbProdutoMouseClicked(MouseEvent event) {
    	if (event.getClickCount() == 2) {
            ItemEntity selectedItem = tbProduto.getSelectionModel().getSelectedItem();
            if (selectedItem != null) {
            	callModalEditarVenda(Constraints.currentStage(event), selectedItem.getId(), "S");
            }
        }
    }
    
    private void callModalEditarVenda(Stage parentStage, Long id, String canal) {
		LoadScene.callEditModal(parentStage, getClass(), id, canal);
	}

}
